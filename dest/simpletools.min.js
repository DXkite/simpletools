/*! simpletools by DXkite 2018-08-26 */
!function i(c,s,u){function a(e,t){if(!s[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[e]={exports:{}};c[e][0].call(o.exports,function(t){return a(c[e][1][t]||t)},o,o.exports,i,c,s,u)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)a(u[t]);return a}({1:[function(t,e,n){"use strict";var c=t("../util"),s=function t(e,n){return new t.constructor(e,n)};function r(t,e,n,r){var o=void 0!==r&&r;"addEventListener"in window?t.addEventListener(e,n,o):t.attachEvent("on"+e,n)}s.constructor=function(t,e){this.elements="string"==typeof t?(e||document).querySelectorAll(t):[t],this.context=e,this.length=this.elements.length;for(var n=0;n<this.length;n++)this[n]=this.elements[n];return this},s.extend=function(t){for(var e in t)this[e]=t[e]},s.extend({element:function(t,e,n,r){var o=document.createElement(t);if(s(o).attr(e).css(n),c.util.is_array(r))for(var i in r)o.appendChild(r[i]);else r instanceof Element?o.appendChild(r):void 0!==r&&(o.innerHTML=r);return o}}),(s.method=s.constructor.prototype).extend=s.extend,s.method.extend({attr:function(n){return this.each(function(){if(n)for(var t in n)if(/^on/.test(t)){var e=t.replace(/^on(.+)$/,"$1");/[A-Z]/.test(e[0])&&(e=e[0].toLowerCase()+e.substr(1)),r(this,e,n[t])}else this.setAttribute(t,n[t])}),this},css:function(e){return this.each(function(){if(e)for(var t in e)this.style[c.util.cssfix(t)]=e[t]}),this},addClass:function(t){return this.each(function(){this.class+=" "+t}),this},removeClass:function(e){return this.each(function(){var t=new RegExp("/\\s+?"+e+"/");this.class.replace(t,"")}),this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],this[e],e);return this},on:function(t,e,n){return this.each(function(){r(this,t,e,n)}),this},off:function(i,c,s){return this.each(function(){var t,e,n,r,o;t=this,e=i,n=c,o=void 0!==(r=s)&&r,"removeEventListener"in window?t.removeEventListener(e,n,o):t.detachEvent("on"+e,n)}),this}}),e.exports=s},{"../util":8}],2:[function(t,e,n){"use strict";var r,o=t("./Dom"),i=(r=o)&&r.__esModule?r:{default:r};window.dxui=window.dxui||{},window.dxui.dom=i.default},{"./Dom":1}],3:[function(t,e,n){"use strict";t("./template/index"),t("./dom/index"),t("./toast/index"),window.dxui.version="1.0"},{"./dom/index":2,"./template/index":5,"./toast/index":7}],4:[function(t,e,n){"use strict";var a={cache:!0,tagstart:"{",tagend:"}",compress:!0,strict:!0},o="^\\s*((?:/)?(?:"+"if,else,each,include,while,for".split(",").join("|")+"))(.*)",l="".trim?["$_tpl_=''","$_tpl_+=",";","$_tpl_"]:["$_tpl_=[]","$_tpl_.push(",");","$_tpl_.join('')"],r={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};function i(t,e){try{new Function(t)}catch(t){return"throw "+t.name+"("+s(t.message)+");{"}return e}function c(t,e){var n="";return t.match(/(?!^)\n/)?h(t.split("\n"),function(t){t&&(e&&(t=t.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),t&&(n+=l[1]+s(t)+l[2],n+="\n"))}):t&&(n+=l[1]+s(t)+l[2]),n}var d=function(t){return new String(t)},f=function(t){return d(t).replace(/&(?![\w#]+;)|[<>"']/g,function(t){return r[t]})},h=function(t,e){if(r=t,"[object Array]"===Object.prototype.toString.call(r))p(t,e);else for(var n in t)e.call(t[n],t[n],n);var r},p=function(t,e){for(var n=0;n<t.length;++n)e.call(t[n],t[n],n)},m=function(t){for(var e={},n=0;n<arguments.length;n++)for(var r in arguments[n])e[r]=arguments[n][r];return e},v=function(t,e){return new _(t).render(e)};function s(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function g(t,e,n,r){t=t||"anonymous";var o="DxTPL Error:";if(console.group(o),e){var i=e.replace(/^\n/,"").split("\n"),c=0<n-5?n-5:1,s=n+5>i.length?i.length:n+5;console.error(r);for(var u=c;u<s;u++)u==n?console.log(u+"|%c"+i[n-1]+"\t\t%c->\t\t%c"+r.name+":"+r.message,"color:red;","color:green;","color:red;"):console.log(u+"|"+i[u-1])}else console.log(e),console.log("%c"+o+r.message+"\t\t@"+t+":"+n,"color:red;");console.groupEnd(o)}function y(t,n){var r="";return t=t.replace(/^\n/,""),h(t.split(n.tagstart),function(t){var e=t.split(n.tagend);1===e.length?r+=c(e[0],n.compress):(r+=function(t){if(!(r=t.match(new RegExp(o))))return(r=t.match(/^!.*$/))?l[1]+"$_unit._echo("+r[1]+")"+l[2]:l[1]+"$_unit._escape("+t+")"+l[2];var e=r[1],n=r[2];switch(e){case"include":return 1===(n=n.trim().split(" ")).length&&n.push("$_unit.value"),n=n.join(","),l[1]+"$_unit._include("+n+")"+l[2];case"if":return i("if("+n+"){}","if ("+n+") {");case"else":return(r=n.match(/^\s*if\s+(.*)/))?"} else if ("+r[1]+"){":"}else{";case"/if":case"/while":case"/for":return"}";case"while":return i("while("+n+"){}","while ("+n+") {");case"for":return i("for("+n+"){}","for ("+n+") {");case"each":var r;return(r=n.match(/\s*(.+?)\s+(?:(?:as(?:\s+(\w+)))?(?:\s*:\s*(\w+))?)?/))?"$_unit._each("+r[1]+",function("+(r[2]?r[3]?r[3]+","+r[2]:r[2]:"value,index")+"){":'throw SyntaxError("Null Each Value");$_unit._each(null,function(){';case"/each":return"});"}}(e[0]),r+=c(e[1]))}),r}function w(e,n,t,r,o){var i,c=function(t,e,n){var r=void 0===n||n,o=[];for(var i in o.push("var $_unit=this,"+l[0]),e)o.push(i+"=this.value."+i);var c="";return r&&(c='"use strict";'),c+=o.join(","),c+=";",c+=t+"return new String("+l[3]+");"}(t,r,o),s={_each:h,_echo:d,_escape:f,_include:v,value:r};try{i=new Function(c).call(s)}catch(t){if(u=new String(t.stack).match(/<anonymous>:(\d+):\d+/)){g(e,n,u[1]-1,t)}else{var u;e=e||"anonymous";(u=new String(t.stack).match(/Function code:(\d+):\d+/))?console.error("DxTPL:Compile Error@"+e+" Line "+u[1]):console.error("DxTPL:Compile Error@"+e)}}return i}function u(t,e){var n=t||e.id,r=!1;if("string"!=typeof n)throw Error("Unsupport Template ID");var o=document.getElementById(n);return o?e.source=o.innerHTML:(e.source=n,e.id="anonymous",r=!0),e.code||(e.cache&&!r?e.code=function(t,e){var n=document.getElementById("template_caches");n||((n=document.createElement("div")).id="template_caches",n.style.display="none",document.body.appendChild(n));var r="template_cache_"+t,o=document.getElementById("template_cache_"+t);return o||((o=document.createElement("div")).id=r,o.innerText=y(document.getElementById(t).innerHTML,e||a),n.appendChild(o)),o.innerText}(n,e):e.code=y(e.source,e)),e}var _=function(t,e){this.version="1.0.43";var n=a;"string"==typeof t?(n=m(n,e)).id=t:n=m(n,t),this.config(n)};_.prototype.config=function(t){for(var e in t)this[e]=t[e];return this},_.prototype.assign=function(t,e){return this.value[t]=m(this.value[t],e),this},_.prototype.value=function(t){return this.value=m(this.value,t),this},_.prototype.compile=function(t){var e=m(this,u(t,this));return new _(e)},_.prototype.render=function(t){if(!this.source||!this.code){var e=u(this.id,this);this.config(e)}return w(this.id,this.source,this.code,t,this.strict)},e.exports={Template:_,renderTpl:function(s,u){var t=document.querySelectorAll(s);p(t,function(t,e){var n,r=t.innerHTML,o=a;if(t.dataset.init)try{n=new Function("return "+t.dataset.init+";")()}catch(t){g(s+"["+e+"]",null,0,new Error("Unsupport json"))}if(t.dataset.config)try{var i=new Function("return "+t.dataset.config+";")();o=m(o,i)}catch(t){g(s+"["+e+"]",null,0,new Error("Unsupport json"))}n=m(n,u);var c=y(r,o);t.innerHTML=w(s,r,c,n,o.strict)})}}},{}],5:[function(t,e,n){"use strict";var r=t("./Template");window.dxtpl=new r.Template,window.Template=r.Template,window.renderTpl=r.renderTpl},{"./Template":4}],6:[function(t,e,n){"use strict";var r,o=t("../dom/Dom"),i=(r=o)&&r.__esModule?r:{default:r};var c="Toast-Parent",s="Toast-Show",u=function t(e,n,r){return new t.create(e,n,r)};u.Queue=new Array,u.create=function(t,e,n){(u.Parent=document.getElementById(c))||(u.Parent=i.default.element("div",{id:c},{pointerEvents:"none"}),document.body.appendChild(u.Parent)),u.Queue.push({message:t,timeout:e,style:n?"toast-"+n:"toast"}),u.show()},u.show=function(){if(!document.getElementById(s)){var t=u.Queue.shift(),e=i.default.element("div",{id:s,class:t.style});e.innerHTML=t.message,u.Parent.appendChild(e);var n=(u.Parent.scrollWidth||window.innerWidth)/2-e.scrollWidth/2,r=window.innerHeight-2*e.scrollHeight;e.style.marginLeft=n+"px",e.style.top=r+"px";var o=t.timeout||2e3;(0,i.default)(e).css({position:"fixed",opacity:1,zIndex:1e4,pointerEvents:"none",transition:"opacity 0.1s ease-in"}),setTimeout(function(){(0,i.default)(e).css({transition:"opacity 0.3s ease-out",opacity:0}),setTimeout(function(){u.Parent.removeChild(e),u.Queue.length&&u.show()},300)},o)}},e.exports=u},{"../dom/Dom":1}],7:[function(t,e,n){"use strict";var r,o=t("./Toast"),i=(r=o)&&r.__esModule?r:{default:r};window.dxui=window.dxui||{},window.dxui.Toast=i.default},{"./Toast":6}],8:[function(t,e,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={};function o(t){return t=t.trim(),t=void 0===document.documentElement.style[t]?r.css_perfix+t:t}r.is_function=function(t){return"[object Function]"===Object.prototype.toString.call(t)},r.is_array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.is_object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},r.is_string=function(t){return"string"==typeof t},r.get_root_path=function(){var t=document.getElementsByTagName("script"),e=t[t.length-1].getAttribute("src");return e.substring(0,e.lastIndexOf("/"))},r.dipatch_event=function(t,e,n,r,o){var i=document.createEvent(str_cache[0]),c=void 0===(void 0===r?"undefined":u(r))||r,s=void 0===(void 0===o?"undefined":u(o))||o;return i.initCustomEvent(e,c,s,n),t.dispatchEvent(i),t["on"+e]&&is_function(t["on"+e])&&t["on"+e].call(t,i),i},r.object_copy=function(t){for(var e={},n=0;n<arguments.length;n++)for(var r in arguments[n])e[r]=arguments[n][r];return e},r.get_css_perfix=function(){var t=window.getComputedStyle(document.documentElement,"");return"-"+(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms|)-/)||""===t.OLink&&["","o"])[1]+"-"},r.css_perfix=r.get_css_perfix(),r.cssname=function(t){return t=(t=o(t)).replace(/[A-Z]/,function(t){return"-"+t.toLowerCase()})},r.cssfix=o,e.exports={util:r}},{}]},{},[3]);
//# sourceMappingURL=simpletools.min.js.map