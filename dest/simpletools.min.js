/*! simpletools by DXkite 2018-08-26 */
!function i(c,s,u){function a(e,t){if(!s[e]){if(!c[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[e]={exports:{}};c[e][0].call(o.exports,function(t){return a(c[e][1][t]||t)},o,o.exports,i,c,s,u)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)a(u[t]);return a}({1:[function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t("../util"),i=function t(e,n){return new t.constructor(e,n)};i.constructor=function(t,e){this.elements="string"==typeof t?(e||document).querySelectorAll(t):[t],this.context=e,this.length=this.elements.length;for(var n=0;n<this.length;n++)this[n]=this.elements[n];return this},i.extend=function(t){for(var e in t)this[e]=t[e]},i.extend({element:function(t,e,n){var r=document.createElement(t);return i(r).attr(e).css(n),r}}),(i.method=i.constructor.prototype).extend=i.extend,i.method.extend({attr:function(e){return this.each(function(){if(e)for(var t in e)this.setAttribute(t,e[t])}),this},css:function(e){return this.each(function(){if(e)for(var t in e)this.style[r.util.cssfix(t)]=e[t]}),this},addClass:function(t){return this.each(function(){this.class+=" "+t}),this},removeClass:function(e){return this.each(function(){var t=new RegExp("/\\s+?"+e+"/");this.class.replace(t,"")}),this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],this[e],e);return this},on:function(t,e,n){var r=void 0===(void 0===n?"undefined":o(n))||n;return this.each(function(){this.addEventListener(t,e,r)}),this}}),e.exports={Dom:i}},{"../util":5}],2:[function(t,e,n){"use strict";var r=t("./template/index"),o=t("./dom/index"),i=t("./toast/index");window.dxtpl=new r.Template,window.Template=r.Template,window.renderTpl=r.renderTpl,window.dxui={version:"1.0"},window.dxui.dom=o.Dom,window.dxui.Toast=i.Toast},{"./dom/index":1,"./template/index":3,"./toast/index":4}],3:[function(t,e,n){"use strict";var a={cache:!0,tagstart:"{",tagend:"}",compress:!0,strict:!0},o="^\\s*((?:/)?(?:"+"if,else,each,include,while,for".split(",").join("|")+"))(.*)",l="".trim?["$_tpl_=''","$_tpl_+=",";","$_tpl_"]:["$_tpl_=[]","$_tpl_.push(",");","$_tpl_.join('')"],r={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};function i(t,e){try{new Function(t)}catch(t){return"throw "+t.name+"("+s(t.message)+");{"}return e}function c(t,e){var n="";return t.match(/(?!^)\n/)?p(t.split("\n"),function(t){t&&(e&&(t=t.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),t&&(n+=l[1]+s(t)+l[2],n+="\n"))}):t&&(n+=l[1]+s(t)+l[2]),n}var f=function(t){return new String(t)},d=function(t){return f(t).replace(/&(?![\w#]+;)|[<>"']/g,function(t){return r[t]})},p=function(t,e){if(r=t,"[object Array]"===Object.prototype.toString.call(r))h(t,e);else for(var n in t)e.call(t[n],t[n],n);var r},h=function(t,e){for(var n=0;n<t.length;++n)e.call(t[n],t[n],n)},m=function(t){for(var e={},n=0;n<arguments.length;n++)for(var r in arguments[n])e[r]=arguments[n][r];return e},v=function(t,e){return new _(t).render(e)};function s(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function y(t,e,n,r){t=t||"anonymous";var o="DxTPL Error:";if(console.group(o),e){var i=e.replace(/^\n/,"").split("\n"),c=0<n-5?n-5:1,s=n+5>i.length?i.length:n+5;console.error(r);for(var u=c;u<s;u++)u==n?console.log(u+"|%c"+i[n-1]+"\t\t%c->\t\t%c"+r.name+":"+r.message,"color:red;","color:green;","color:red;"):console.log(u+"|"+i[u-1])}else console.log(e),console.log("%c"+o+r.message+"\t\t@"+t+":"+n,"color:red;");console.groupEnd(o)}function g(t,n){var r="";return t=t.replace(/^\n/,""),p(t.split(n.tagstart),function(t){var e=t.split(n.tagend);1===e.length?r+=c(e[0],n.compress):(r+=function(t){if(!(r=t.match(new RegExp(o))))return(r=t.match(/^!.*$/))?l[1]+"$_unit._echo("+r[1]+")"+l[2]:l[1]+"$_unit._escape("+t+")"+l[2];var e=r[1],n=r[2];switch(e){case"include":return 1===(n=n.trim().split(" ")).length&&n.push("$_unit.value"),n=n.join(","),l[1]+"$_unit._include("+n+")"+l[2];case"if":return i("if("+n+"){}","if ("+n+") {");case"else":return(r=n.match(/^\s*if\s+(.*)/))?"} else if ("+r[1]+"){":"}else{";case"/if":case"/while":case"/for":return"}";case"while":return i("while("+n+"){}","while ("+n+") {");case"for":return i("for("+n+"){}","for ("+n+") {");case"each":var r;return(r=n.match(/\s*(.+?)\s+(?:(?:as(?:\s+(\w+)))?(?:\s*:\s*(\w+))?)?/))?"$_unit._each("+r[1]+",function("+(r[2]?r[3]?r[3]+","+r[2]:r[2]:"value,index")+"){":'throw SyntaxError("Null Each Value");$_unit._each(null,function(){';case"/each":return"});"}}(e[0]),r+=c(e[1]))}),r}function w(e,n,t,r,o){var i,c=function(t,e,n){var r=void 0===n||n,o=[];for(var i in o.push("var $_unit=this,"+l[0]),e)o.push(i+"=this.value."+i);var c="";return r&&(c='"use strict";'),c+=o.join(","),c+=";",c+=t+"return new String("+l[3]+");"}(t,r,o),s={_each:p,_echo:f,_escape:d,_include:v,value:r};try{i=new Function(c).call(s)}catch(t){if(u=new String(t.stack).match(/<anonymous>:(\d+):\d+/)){y(e,n,u[1]-1,t)}else{var u;e=e||"anonymous";(u=new String(t.stack).match(/Function code:(\d+):\d+/))?console.error("DxTPL:Compile Error@"+e+" Line "+u[1]):console.error("DxTPL:Compile Error@"+e)}}return i}function u(t,e){var n=t||e.id,r=!1;if("string"!=typeof n)throw Error("Unsupport Template ID");var o=document.getElementById(n);return o?e.source=o.innerHTML:(e.source=n,e.id="anonymous",r=!0),e.code||(e.cache&&!r?e.code=function(t,e){var n=document.getElementById("template_caches");n||((n=document.createElement("div")).id="template_caches",n.style.display="none",document.body.appendChild(n));var r="template_cache_"+t,o=document.getElementById("template_cache_"+t);return o||((o=document.createElement("div")).id=r,o.innerText=g(document.getElementById(t).innerHTML,e||a),n.appendChild(o)),o.innerText}(n,e):e.code=g(e.source,e)),e}var _=function(t,e){this.version="1.0.43";var n=a;"string"==typeof t?(n=m(n,e)).id=t:n=m(n,t),this.config(n)};_.prototype.config=function(t){for(var e in t)this[e]=t[e];return this},_.prototype.assign=function(t,e){return this.value[t]=m(this.value[t],e),this},_.prototype.value=function(t){return this.value=m(this.value,t),this},_.prototype.compile=function(t){var e=m(this,u(t,this));return new _(e)},_.prototype.render=function(t){if(!this.source||!this.code){var e=u(this.id,this);this.config(e)}return w(this.id,this.source,this.code,t,this.strict)},e.exports={Template:_,renderTpl:function(s,u){var t=document.querySelectorAll(s);h(t,function(t,e){var n,r=t.innerHTML,o=a;if(t.dataset.init)try{n=new Function("return "+t.dataset.init+";")()}catch(t){y(s+"["+e+"]",null,0,new Error("Unsupport json"))}if(t.dataset.config)try{var i=new Function("return "+t.dataset.config+";")();o=m(o,i)}catch(t){y(s+"["+e+"]",null,0,new Error("Unsupport json"))}n=m(n,u);var c=g(r,o);t.innerHTML=w(s,r,c,n,o.strict)})}}},{}],4:[function(t,e,n){"use strict";var i=t("../dom/index"),r="Toast-Parent",c="Toast-Show",s=function t(e,n,r){return new t.create(e,n,r)};s.Queue=new Array,s.create=function(t,e,n){(s.Parent=document.getElementById(r))||((s.Parent=document.createElement("div")).id=r,document.body.appendChild(s.Parent)),s.Queue.push({message:t,timeout:e,style:n?"toast-"+n:"toast"}),s.show()},s.show=function(){if(!document.getElementById(c)){var t=s.Queue.shift(),e=i.Dom.element("div",{id:c,class:t.style});e.innerHTML=t.message,s.Parent.appendChild(e);var n=window.innerWidth/2-e.scrollWidth/2,r=window.innerHeight-2*e.scrollHeight;e.style.marginLeft=n+"px",e.style.top=r+"px";var o=t.timeout||2e3;(0,i.Dom)(e).css({position:"fixed",opacity:1,"z-index":1e4,transition:"opacity 0.1s ease-in"}),setTimeout(function(){(0,i.Dom)(e).css({transition:"opacity 0.3s ease-out",opacity:0}),setTimeout(function(){s.Parent.removeChild(e),s.Queue.length&&s.show()},300)},o)}},e.exports={Toast:s}},{"../dom/index":1}],5:[function(t,e,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={};function o(t){return t=t.trim(),t=void 0===document.documentElement.style[t]?r.css_perfix+t:t}r.is_function=function(t){return"[object Function]"===Object.prototype.toString.call(t)},r.is_array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.is_object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},r.is_string=function(t){return"string"==typeof t},r.get_root_path=function(){var t=document.getElementsByTagName("script"),e=t[t.length-1].getAttribute("src");return e.substring(0,e.lastIndexOf("/"))},r.dipatch_event=function(t,e,n,r,o){var i=document.createEvent(str_cache[0]),c=void 0===(void 0===r?"undefined":u(r))||r,s=void 0===(void 0===o?"undefined":u(o))||o;return i.initCustomEvent(e,c,s,n),t.dispatchEvent(i),t["on"+e]&&is_function(t["on"+e])&&t["on"+e].call(t,i),i},r.object_copy=function(t){for(var e={},n=0;n<arguments.length;n++)for(var r in arguments[n])e[r]=arguments[n][r];return e},r.get_css_perfix=function(){var t=window.getComputedStyle(document.documentElement,"");return"-"+(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms|)-/)||""===t.OLink&&["","o"])[1]+"-"},r.css_perfix=r.get_css_perfix(),r.cssname=function(t){return t=(t=o(t)).replace(/[A-Z]/,function(t){return"-"+t.toLowerCase()})},r.cssfix=o,e.exports={util:r}},{}]},{},[2]);
//# sourceMappingURL=simpletools.min.js.map