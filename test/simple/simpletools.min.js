/*! simpletools by DXkite 2018-08-26 */
!function(e){var s={cache:!0,tagstart:"{",tagend:"}",compress:!0,strict:!0},o="^\\s*((?:/)?(?:"+"if,else,each,include,while,for".split(",").join("|")+"))(.*)",l="".trim?["$_tpl_=''","$_tpl_+=",";","$_tpl_"]:["$_tpl_=[]","$_tpl_.push(",");","$_tpl_.join('')"],n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};function c(e,n){try{new Function(e)}catch(e){return"throw "+e.name+"("+r(e.message)+");{"}return n}function i(e,n){var t="";return e.match(/(?!^)\n/)?f(e.split("\n"),function(e){e&&(n&&(e=e.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),e&&(t+=l[1]+r(e)+l[2],t+="\n"))}):e&&(t+=l[1]+r(e)+l[2]),t}var h=function(e){return new String(e)},p=function(e){return h(e).replace(/&(?![\w#]+;)|[<>"']/g,function(e){return n[e]})},f=function(e,n){if(r=e,"[object Array]"===Object.prototype.toString.call(r))d(e,n);else for(var t in e)n.call(e[t],e[t],t);var r},d=function(e,n){for(var t=0;t<e.length;++t)n.call(e[t],e[t],t)},v=function(e){for(var n={},t=0;t<arguments.length;t++)for(var r in arguments[t])n[r]=arguments[t][r];return n},g=function(e,n){return new a(e).render(n)};function r(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function m(e,n,t,r){e=e||"anonymous";var o="DxTPL Error:";if(console.group(o),n){var c=n.replace(/^\n/,"").split("\n"),i=0<t-5?t-5:1,a=t+5>c.length?c.length:t+5;console.error(r);for(var u=i;u<a;u++)u==t?console.log(u+"|%c"+c[t-1]+"\t\t%c->\t\t%c"+r.name+":"+r.message,"color:red;","color:green;","color:red;"):console.log(u+"|"+c[u-1])}else console.log(n),console.log("%c"+o+r.message+"\t\t@"+e+":"+t,"color:red;");console.groupEnd(o)}function _(e,t){var r="";return e=e.replace(/^\n/,""),f(e.split(t.tagstart),function(e){var n=e.split(t.tagend);1===n.length?r+=i(n[0],t.compress):(r+=function(e){if(!(r=e.match(new RegExp(o))))return(r=e.match(/^!.*$/))?l[1]+"$_unit._echo("+r[1]+")"+l[2]:l[1]+"$_unit._escape("+e+")"+l[2];var n=r[1],t=r[2];switch(n){case"include":return 1===(t=t.trim().split(" ")).length&&t.push("$_unit.value"),t=t.join(","),l[1]+"$_unit._include("+t+")"+l[2];case"if":return c("if("+t+"){}","if ("+t+") {");case"else":return(r=t.match(/^\s*if\s+(.*)/))?"} else if ("+r[1]+"){":"}else{";case"/if":case"/while":case"/for":return"}";case"while":return c("while("+t+"){}","while ("+t+") {");case"for":return c("for("+t+"){}","for ("+t+") {");case"each":var r;return(r=t.match(/\s*(.+?)\s+(?:(?:as(?:\s+(\w+)))?(?:\s*:\s*(\w+))?)?/))?"$_unit._each("+r[1]+",function("+(r[2]?r[3]?r[3]+","+r[2]:r[2]:"value,index")+"){":'throw SyntaxError("Null Each Value");$_unit._each(null,function(){';case"/each":return"});"}}(n[0]),r+=i(n[1]))}),r}function w(n,t,e,r,o){var c,i=function(e,n,t){var r=void 0===t||t,o=[];for(var c in o.push("var $_unit=this,"+l[0]),n)o.push(c+"=this.value."+c);var i="";return r&&(i='"use strict";'),i+=o.join(","),i+=";",i+=e+"return new String("+l[3]+");"}(e,r,o),a={_each:f,_echo:h,_escape:p,_include:g,value:r};try{c=new Function(i).call(a)}catch(e){if(u=new String(e.stack).match(/<anonymous>:(\d+):\d+/)){m(n,t,u[1]-1,e)}else{var u;n=n||"anonymous";(u=new String(e.stack).match(/Function code:(\d+):\d+/))?console.error("DxTPL:Compile Error@"+n+" Line "+u[1]):console.error("DxTPL:Compile Error@"+n)}}return c}function t(e,n){var t=e||n.id,r=!1;if("string"!=typeof t)throw Error("Unsupport Template ID");var o=document.getElementById(t);return o?n.source=o.innerHTML:(n.source=t,n.id="anonymous",r=!0),n.code||(n.cache&&!r?n.code=function(e,n){var t=document.getElementById("template_caches");t||((t=document.createElement("div")).id="template_caches",t.style.display="none",document.body.appendChild(t));var r="template_cache_"+e,o=document.getElementById("template_cache_"+e);return o||((o=document.createElement("div")).id=r,o.innerText=_(document.getElementById(e).innerHTML,n||s),t.appendChild(o)),o.innerText}(t,n):n.code=_(n.source,n)),n}var a=function(e,n){this.version="1.0.43";var t=s;"string"==typeof e?(t=v(t,n)).id=e:t=v(t,e),this.config(t)};a.prototype.config=function(e){for(var n in e)this[n]=e[n];return this},a.prototype.assign=function(e,n){return this.value[e]=v(this.value[e],n),this},a.prototype.value=function(e){return this.value=v(this.value,e),this},a.prototype.compile=function(e){var n=v(this,t(e,this));return new a(n)},a.prototype.render=function(e){if(!this.source||!this.code){var n=t(this.id,this);this.config(n)}return w(this.id,this.source,this.code,e,this.strict)},e.dxtpl=new a,e.Template=a,e.renderTpl=function(a,u){var e=document.querySelectorAll(a);d(e,function(e,n){var t,r=e.innerHTML,o=s;if(e.dataset.init)try{t=new Function("return "+e.dataset.init+";")()}catch(e){m(a+"["+n+"]",null,0,new Error("Unsupport json"))}if(e.dataset.config)try{var c=new Function("return "+e.dataset.config+";")();o=v(o,c)}catch(e){m(a+"["+n+"]",null,0,new Error("Unsupport json"))}t=v(t,u);var i=_(r,o);e.innerHTML=w(a,r,i,t,o.strict)})}}(window);